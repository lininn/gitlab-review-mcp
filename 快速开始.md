# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

## 1. è·å– API Token

### GitHub Token
1. è®¿é—® [GitHub Settings](https://github.com/settings/tokens)
2. ç‚¹å‡» "Generate new token (classic)"
3. é€‰æ‹©æƒé™ï¼š
   - `repo` (è®¿é—®ç§æœ‰ä»“åº“)
   - `public_repo` (è®¿é—®å…¬å¼€ä»“åº“)
4. å¤åˆ¶ç”Ÿæˆçš„ token

### GitLab Token  
1. è®¿é—® [GitLab Access Tokens](https://gitlab.com/-/profile/personal_access_tokens)
2. åˆ›å»ºæ–°çš„ Personal Access Token
3. é€‰æ‹©æƒé™ï¼š`api` æˆ– `read_api`
4. å¤åˆ¶ç”Ÿæˆçš„ token

## 2. é…ç½® Claude Desktop

æ‰“å¼€ Claude Desktop çš„ MCP é…ç½®æ–‡ä»¶ï¼š

**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
**Windows:** `%APPDATA%\Claude\claude_desktop_config.json`

æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "ä»£ç å®¡æŸ¥åŠ©æ‰‹": {
      "command": "npx",
      "args": [
        "-y", 
        "gitlab-review-mcp",
        "--api-base-url=https://api.github.com",
        "--api-token=ä½ çš„_github_token_è¿™é‡Œ"
      ],
      "alwaysAllow": [
        "fetch_pull_request",
        "fetch_code_diff", 
        "add_review_comment",
        "analyze_code_quality",
        "get_repository_info",
        "analyze_files_batch",
        "get_pull_request_files",
        "get_supported_languages",
        "get_language_rules",
        "get_server_config"
      ]
    }
  }
}
```

**æ³¨æ„ï¼š** å°† `ä½ çš„_github_token_è¿™é‡Œ` æ›¿æ¢ä¸ºæ­¥éª¤1ä¸­è·å–çš„çœŸå® tokenã€‚

## 3. é‡å¯ Claude Desktop

ä¿å­˜é…ç½®æ–‡ä»¶åï¼Œé‡å¯ Claude Desktop åº”ç”¨ç¨‹åºã€‚

## 4. å¼€å§‹ä½¿ç”¨

é‡å¯åï¼Œä½ å¯ä»¥åœ¨å¯¹è¯ä¸­ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š

### ğŸ“„ åˆ†æ PR
```
è¯·å¸®æˆ‘åˆ†æè¿™ä¸ª PRï¼šmicrosoft/vscode çš„ç¬¬ 196892 å· Pull Request
```

### ğŸ” ä»£ç è´¨é‡æ£€æŸ¥
```
è¯·åˆ†æè¿™æ®µ JavaScript ä»£ç çš„è´¨é‡ï¼š
console.log("Hello World");
var x = 1;
eval("test");
```

### ğŸ“ è·å– PR æ–‡ä»¶åˆ—è¡¨
```
è¯·è·å– microsoft/vscode PR #196892 ä¸­ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨
```

### ğŸ”§ æ‰¹é‡åˆ†ææ–‡ä»¶
```
è¯·åˆ†æä»¥ä¸‹æ–‡ä»¶çš„ä»£ç è´¨é‡ï¼š
1. index.js: console.log('test');
2. utils.py: print('hello')
```

### ğŸ’¬ æ·»åŠ  PR è¯„è®º
```
è¯·åœ¨ microsoft/vscode PR #196892 çš„ src/index.js æ–‡ä»¶ç¬¬42è¡Œæ·»åŠ è¯„è®ºï¼š"è¿™é‡Œéœ€è¦æ·»åŠ é”™è¯¯å¤„ç†"
```

## 5. æ”¯æŒçš„å‘½ä»¤ç¤ºä¾‹

### åŸºç¡€åŠŸèƒ½
- "åˆ†æè¿™ä¸ª GitHub ä»“åº“ï¼šmicrosoft/vscode"
- "è·å– PR #123 çš„ä»£ç å·®å¼‚"
- "æ£€æŸ¥è¿™æ®µä»£ç çš„è´¨é‡é—®é¢˜"
- "è·å–æ”¯æŒçš„ç¼–ç¨‹è¯­è¨€åˆ—è¡¨"

### é«˜çº§åŠŸèƒ½
- "æ‰¹é‡åˆ†æå¤šä¸ªæ–‡ä»¶çš„ä»£ç è´¨é‡"
- "è·å– JavaScript çš„æ‰€æœ‰åˆ†æè§„åˆ™"
- "æ£€æŸ¥æœåŠ¡å™¨é…ç½®å’Œå¥åº·çŠ¶æ€"

## 6. åˆ‡æ¢åˆ° GitLab

å¦‚æœè¦ä½¿ç”¨ GitLabï¼Œåªéœ€ä¿®æ”¹é…ç½®ï¼š

```json
"args": [
  "-y",
  "gitlab-review-mcp", 
  "--api-base-url=https://gitlab.com/api/v4",
  "--api-token=ä½ çš„_gitlab_token_è¿™é‡Œ"
]
```

## æ•…éšœæ’é™¤

### âŒ é…ç½®ä¸ç”Ÿæ•ˆ
1. æ£€æŸ¥ JSON æ ¼å¼æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿æ–‡ä»¶è·¯å¾„æ­£ç¡®
3. é‡å¯ Claude Desktop

### âŒ API è®¤è¯å¤±è´¥
1. ç¡®è®¤ token æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ token æƒé™è®¾ç½®
3. éªŒè¯ API åœ°å€æ˜¯å¦æ­£ç¡®

### âŒ ç½‘ç»œè¿æ¥é—®é¢˜
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å°è¯•å¢åŠ è¶…æ—¶æ—¶é—´ï¼š`--timeout=60000`
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **ç»„åˆä½¿ç”¨ï¼š** å…ˆè·å– PR æ–‡ä»¶åˆ—è¡¨ï¼Œå†é€ä¸ªåˆ†æä»£ç è´¨é‡
2. **æ‰¹é‡å¤„ç†ï¼š** ä¸€æ¬¡æ€§åˆ†æå¤šä¸ªæ–‡ä»¶ï¼Œè·å¾—æ•´ä½“ä»£ç è´¨é‡æŠ¥å‘Š
3. **è§„åˆ™å®šåˆ¶ï¼š** ä½¿ç”¨ `get_language_rules` äº†è§£å¯ç”¨è§„åˆ™ï¼Œç„¶ååœ¨åˆ†ææ—¶æŒ‡å®šç‰¹å®šè§„åˆ™
4. **å¥åº·æ£€æŸ¥ï¼š** å®šæœŸä½¿ç”¨ `get_server_config` æ£€æŸ¥æœåŠ¡çŠ¶æ€

## ğŸ¯ å¸¸ç”¨åœºæ™¯

### ä»£ç å®¡æŸ¥å·¥ä½œæµ
1. è·å– PR æ–‡ä»¶åˆ—è¡¨
2. åˆ†æå…³é”®æ–‡ä»¶çš„ä»£ç è´¨é‡
3. æ·»åŠ å…·ä½“çš„å®¡æŸ¥è¯„è®º
4. è·å–æ•´ä¸ª PR çš„ä»£ç å·®å¼‚

### ä»£ç è´¨é‡æ£€æŸ¥
1. è·å–æ”¯æŒçš„è¯­è¨€å’Œè§„åˆ™
2. æ‰¹é‡åˆ†æé¡¹ç›®æ–‡ä»¶
3. æŸ¥çœ‹è¯¦ç»†çš„è´¨é‡æŠ¥å‘Š
4. æ ¹æ®å»ºè®®ä¼˜åŒ–ä»£ç 

ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½¿ç”¨è¿™ä¸ªå¼ºå¤§çš„ä»£ç å®¡æŸ¥åŠ©æ‰‹äº†ï¼ğŸ‰
